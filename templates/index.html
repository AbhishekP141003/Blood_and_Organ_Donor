{% extends "base.html" %}

{% block title %}CampusDonor - Campus Blood & Organ Donor Network{% endblock %}

{% block extra_styles %}
<style>
  .hero {
    display: grid;
    grid-template-columns: 1fr 420px;
    gap: 2rem;
    align-items: center;
    margin: 2rem 0;
  }

  @media (max-width: 900px) {
    .hero {
      grid-template-columns: 1fr;
    }
  }

  .hero-title {
    font-size: 2.5rem;
    color: var(--text-primary);
    margin-bottom: 1rem;
    line-height: 1.2;
  }

  .hero-subtitle {
    color: var(--text-secondary);
    margin-bottom: 1.5rem;
    font-size: 1.1rem;
  }

  .impact-card {
    background: var(--card-bg);
    padding: 1.5rem;
    border-radius: 12px;
    box-shadow: 0 8px 16px var(--card-shadow);
  }

  .impact-stats {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
  }

  .stat-box {
    flex: 1;
    text-align: center;
    padding: 1.25rem;
    border-radius: 10px;
  }

  .stat-box.blood {
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
  }

  .stat-box.organ {
    background: linear-gradient(135deg, #ecfeff 0%, #cffafe 100%);
  }

  [data-theme="dark"] .stat-box.blood {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.15) 0%, rgba(239, 68, 68, 0.25) 100%);
  }

  [data-theme="dark"] .stat-box.organ {
    background: linear-gradient(135deg, rgba(6, 182, 212, 0.15) 0%, rgba(6, 182, 212, 0.25) 100%);
  }

  .stat-number {
    font-size: 2.5rem;
    font-weight: bold;
    line-height: 1;
    display: block;
  }

  .stat-label {
    font-size: 0.9rem;
    font-weight: 600;
    margin-top: 0.5rem;
  }

  .info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
  }

  .info-card {
    background: var(--card-bg);
    padding: 1.75rem;
    border-radius: 12px;
    border: 1px solid var(--border-light);
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .info-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px var(--card-shadow);
  }

  .info-card h4 {
    margin-bottom: 1rem;
    font-size: 1.25rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .info-card p {
    color: var(--text-secondary);
    line-height: 1.7;
  }
</style>
{% endblock %}

{% block content %}
<div class="container">
  <div class="card fade-in">
    <section class="hero">
      <div>
        <h2 class="hero-title">Save Lives within your Campus üè•</h2>
        <p class="hero-subtitle">
          CampusDonor helps students and staff register as blood & organ donors.
          Connect with donors instantly during emergencies.
        </p>

        <div class="flex gap-2" style="margin-bottom: 1.5rem; flex-wrap: wrap;">
          <a href="/register" class="btn btn-primary">‚ú® Register as Donor</a>
          <a href="/donor/login" class="btn btn-outline">üë§ Donor Login</a>
        </div>

        <div class="flex gap-2" style="flex-wrap: wrap;">
          <a href="/search?type=blood" class="btn btn-outline">ü©∏ Search Blood</a>
          <a href="/search?type=organ" class="btn btn-outline">ü´Ä Search Organ</a>
        </div>
      </div>

      <div class="impact-card">
        <h3 style="margin-bottom: 0.5rem;">Campus Impact</h3>
        <p class="text-muted" style="font-size: 0.9rem;">Real-time database availability</p>

        <div class="impact-stats">
          <div class="stat-box blood">
            <span class="stat-number" style="color: #ef4444;">{{ blood_count }}</span>
            <div class="stat-label" style="color: #991b1b;">Blood Donors</div>
          </div>
          <div class="stat-box organ">
            <span class="stat-number" style="color: #06b6d4;">{{ organ_count }}</span>
            <div class="stat-label" style="color: #0e7490;">Organ Pledges</div>
          </div>
        </div>
      </div>
    </section>

    <hr style="border: none; height: 1px; background: var(--border-color); margin: 3rem 0;">

    <section>
      <h3 style="font-size: 1.75rem; margin-bottom: 1.5rem; text-align: center;">Why It Matters</h3>

      <div class="info-grid">
        <div class="info-card">
          <h4 style="color: #ef4444;">ü©∏ Blood Donation</h4>
          <p>
            Blood cannot be manufactured; it can only come from generous donors.
            <strong>One donation can save up to 3 lives</strong>.
            Donated blood is vital for surgeries, cancer treatments, chronic illnesses, and traumatic injuries.
            The process is safe, quick, and makes a direct impact on your campus community.
          </p>
        </div>

        <div class="info-card">
          <h4 style="color: #06b6d4;">ü´Ä Organ Donation</h4>
          <p>
            Registering as an organ donor is a powerful legacy.
            <strong>One donor can save up to 8 lives</strong> and improve the lives of over 75 others through tissue
            donation.
            There is a critical gap between the number of organs needed and those available.
            Your pledge today gives hope to thousands waiting for a second chance at life.
          </p>
        </div>
      </div>
    </section>
  </div>
</div>

<!-- Success Toast -->
{% if request.args.get('success') == '1' %}
<div id="successToast" style="
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    background: linear-gradient(135deg, #16a34a, #22c55e);
    color: white;
    padding: 1rem 1.5rem;
    border-radius: 10px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    animation: slideIn 0.4s ease;
    z-index: 1000;
">
  ‚úÖ Registration Successful! Thank you for joining.
</div>

<style>
  @keyframes slideIn {
    from {
      transform: translateX(400px);
      opacity: 0;
    }

    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slideOut {
    from {
      transform: translateX(0);
      opacity: 1;
    }

    to {
      transform: translateX(400px);
      opacity: 0;
    }
  }
</style>

<script>
  setTimeout(() => {
    const toast = document.getElementById('successToast');
    toast.style.animation = 'slideOut 0.4s ease';
    setTimeout(() => toast.remove(), 400);
  }, 3000);

  // Clean URL
  window.history.replaceState({}, document.title, '/');
</script>
{% endif %}
{% endblock %}